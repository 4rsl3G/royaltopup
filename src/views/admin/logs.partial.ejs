<style>
  .logwrap{ border:1px solid var(--border); border-radius:16px; background:rgba(255,255,255,.92); box-shadow: var(--shadow); overflow:hidden; }
  .logbar{ display:flex; gap:10px; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border); background:rgba(248,250,252,.9); }
  .logbar .left{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .logbar .right{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .logbox{
    height: 62vh;
    padding: 12px 14px;
    overflow:auto;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size:12px;
    line-height:1.55;
    background: rgba(255,255,255,.96);
  }
  .logline{ padding:6px 8px; border:1px solid rgba(226,232,240,.7); border-radius:12px; margin-bottom:8px; background:#fff; }
  .logmeta{ color: var(--muted); margin-top:4px; white-space:pre-wrap; word-break:break-word; }
  .lv{ font-weight:950; padding:2px 8px; border-radius:999px; border:1px solid var(--border); background:var(--soft); }
  .lv.info{ background: rgba(15,23,42,.06); border-color: rgba(15,23,42,.16); }
  .lv.warn{ background: rgba(217,119,6,.08); border-color: rgba(217,119,6,.28); color:#7c2d12; }
  .lv.error{ background: rgba(220,38,38,.08); border-color: rgba(220,38,38,.28); color:#7f1d1d; }
  .lv.debug{ background: rgba(2,132,199,.06); border-color: rgba(2,132,199,.18); color:#075985; }
  .chip{ border:1px solid var(--border); background:rgba(255,255,255,.9); border-radius:999px; padding:6px 10px; font-weight:950; font-size:12px; display:inline-flex; gap:8px; align-items:center; }
</style>

<div class="flex items-start justify-between gap-4">
  <div>
    <div class="h1">Live Logs</div>
    <div class="muted text-sm mt-1">Real-time via WebSocket. Secret dimask.</div>
  </div>
  <div class="status neutral">
    <span class="dot" id="logDot"></span>
    <span id="logLive">LIVE â€¢ real-time</span>
  </div>
</div>

<div class="mt-5 logwrap" data-logs-page="1">
  <div class="logbar">
    <div class="left">
      <span class="chip"><i class="ri-filter-3-line"></i> Filter</span>
      <select class="input" id="logLevel" style="height:40px;max-width:170px">
        <option value="all">All</option>
        <option value="info">Info</option>
        <option value="warn">Warn</option>
        <option value="error">Error</option>
        <option value="debug">Debug</option>
      </select>
      <input class="input" id="logSearch" placeholder="Cari teks..." style="height:40px;max-width:240px">
      <span class="chip" id="logCount"><i class="ri-list-check-2"></i> 0</span>
    </div>
    <div class="right">
      <button class="btn" id="btnPause"><i class="ri-pause-circle-line"></i> Pause</button>
      <button class="btn" id="btnClear"><i class="ri-delete-bin-6-line"></i> Clear</button>
      <button class="btn btn-primary" id="btnStick"><i class="ri-pushpin-line"></i> Auto-scroll: ON</button>
    </div>
  </div>

  <div class="logbox" id="logBox"></div>
</div>

<script>
  window.__logUI = { paused:false, stick:true, level:'all', q:'', shown:0 };

  const $lvl = $('#logLevel');
  const $q = $('#logSearch');

  $lvl.on('change', ()=>{ window.__logUI.level = $lvl.val(); });
  $q.on('input', ()=>{ window.__logUI.q = ($q.val()||'').toLowerCase(); });

  $('#btnPause').on('click', ()=>{
    window.__logUI.paused = !window.__logUI.paused;
    $('#btnPause').html(window.__logUI.paused ? '<i class="ri-play-circle-line"></i> Resume' : '<i class="ri-pause-circle-line"></i> Pause');
  });

  $('#btnClear').on('click', ()=>{
    $('#logBox').html('');
    window.__logUI.shown = 0;
    $('#logCount').html('<i class="ri-list-check-2"></i> 0');
  });

  $('#btnStick').on('click', ()=>{
    window.__logUI.stick = !window.__logUI.stick;
    $('#btnStick').html(window.__logUI.stick ? '<i class="ri-pushpin-line"></i> Auto-scroll: ON' : '<i class="ri-pushpin-line"></i> Auto-scroll: OFF');
    if (window.__logUI.stick){
      const box = document.getElementById('logBox');
      box.scrollTop = box.scrollHeight;
    }
  });
</script>
